<!DOCTYPE html>
<!--
  Copyright 2010 Google Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

     http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.

  Original slides: Marcin Wichary (mwichary@google.com)
  Modifications: Ernest Delgado (ernestd@google.com)
                 Alex Russell (slightlyoff@chromium.org)

  landslide modifications: Adam Zapletal (adamzap@gmail.com)
                           Nicolas Perriault (nperriault@gmail.com)
-->
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title><code>nil</code>: historical, theoretical, comparative, philosophical, and practical perspectives <br> <i>Franklin Chen</i> <br> <i><a href="http://franklinchen.com/">http://franklinchen.com/</a></i> <br> Pittsburgh Ruby <br> September 6, 2012</title>
    <!-- Styles -->
    
    <style type="text/css" media="print">
      * {
    margin: 0;
    padding: 0;
}

@page {
    size: landscape;
}

body {
    font: 100% "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
    padding: 0;
    margin: 0;
}

div.slide {
    min-width: 800px;
    min-height: 600px;
    padding: 1em;
    overflow: hidden;
    page-break-after: always;
    border: 1px solid black;
    border-radius: 20px;
}

div.slide div.inner {
    width: 800px;
    height: 600px;
    margin: auto;
    display: table-cell;
}

h1 {
    font-size: 2.4em;
}

h2 {
    font-size: 1.4em;
}

h3 {
    margin: 1em 0;
}

ul {
    margin: 0;
    padding: 0;
}

p, li, pre {
    margin: 1em 0;
}

li {
    margin-left: 2em;
}

a {
    color: #000000;
}

pre, code {
    max-width: 800px;
    background: #eee;
    font-family: Monaco, monospace;
    font-size: 90%;
}

pre {
    padding: .2em .5em;
    overflow: hidden;
    border-radius: .8em;
}

code {
    padding: 0 .2em;
}

.slide header:only-child h1 {
  line-height: 180%;
  text-align: center;
  display: table-cell;
  vertical-align: middle;
  height: 600px;
  width: 800px;
  font-size: 48px;
  margin-top:100px;
  margin-bottom:100px;
}

#toc, #help, .slide aside, .slide footer, .slide .notes,
.presenter_notes, #current_presenter_notes, #presenter_note {
  display: none;
}

    </style>
    <style type="text/css" media="screen, projection">
      body {
  font: 14px "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
  background: #778;
  padding: 0;
  margin: 0;
  overflow: hidden;
}

div.presentation {
  position: absolute;
  width: 100%;
  display: table-cell;
  vertical-align: middle;
  height: 100%;
  background: inherit;
}

div.presentation > h1 {
  display: none;
}

div.slides, body.expose div.slides.nocontext {
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
  position: absolute;
  display: block;
}

div.slides.nocontext {
  width: 900px;
  margin: 0 auto;
  overflow: hidden;
  position: relative;
  left: auto;
  top: auto;
}

div.slide {
  display: inline;
  position: absolute;
  overflow: hidden;
  width: 900px;
  height: 700px;
  margin-top: -350px;
  margin-left: -400px;
  left: 50%;
  top: 50%;
  background: -webkit-gradient(linear, left bottom, left top, from(#bbd), to(#fff));
  background-color: #eee;
  background: -moz-linear-gradient(bottom, #bbd, #fff);
  -webkit-transition: margin 0.25s ease-in-out;
  -moz-transition: margin 0.25s ease-in-out;
  -o-transition: margin 0.25s ease-in-out;
  border-top-left-radius: 20px;
  -moz-border-radius-topleft: 20px;
  -webkit-border-top-left-radius: 20px;
  border-top-right-radius: 20px;
  -moz-border-radius-topright: 20px;
  -webkit-border-top-right-radius: 20px;
  border-bottom-right-radius: 20px;
  -moz-border-radius-bottomright: 20px;
  -webkit-border-bottom-right-radius: 20px;
  border-bottom-left-radius: 20px;
  -moz-border-radius-bottomleft: 20px;
  -webkit-border-bottom-left-radius: 20px;
}

/* Expose */

body.expose div.slides {
  float: left;
  position: relative;
  overflow: auto;
  margin-bottom: 10px;
}

body.expose div.slide {
  display: block;
  float: left;
  position: relative;
  left: auto !important;
  top: auto !important;
  margin: 10px !important;
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  -moz-transform: scale(.33, .33);
  -moz-transform-origin: 0 0;
  -webkit-transform: scale(.33, .33);
  -webkit-transform-origin: 0 0;
  -o-transform: scale(.33, .33);
  -o-transform-origin: 0 0;
  -webkit-transition: none;
  -moz-transition: none;
  -o-transition: none;
  cursor: pointer;
}

body.expose div.slide:hover {
  background: -webkit-gradient(linear, left bottom, left top, from(#bdd), to(#fff));
  background-color: #eee;
  background: -moz-linear-gradient(bottom, #bdd, #fff);
}

body.expose .slide-wrapper {
  float: left;
  position: relative;
  margin: .5%;
  width: 300px;
  height: 233px;
}

body.expose .slide footer {
}

body.expose .slide .inner {
}

body.expose .slide.far-past,
body.expose .slide.past,
body.expose .slide.future,
body.expose .slide.far-future {
  margin-left: 0;
}

body.expose .slide.current {
  background: -webkit-gradient(linear, left bottom, left top, from(#ddb), to(#fff));
  background-color: #eee;
  background: -moz-linear-gradient(bottom, #ddb, #fff);
  border: 16px solid #fff;
  -moz-transform: scale(.315, .315);
  -moz-transform-origin: 0 0;
  -webkit-transform: scale(.315, .315);
  -webkit-transform-origin: 0 0;
  -o-transform: scale(.315, .315);
  -o-transform-origin: 0 0;
}

/* Presenter Mode */

body.presenter_view div.slide {
  display: inline;
  position: absolute;
  overflow: hidden;
  -moz-transform: scale(.5, .5);
  -moz-transform-origin: 0 0;
  -webkit-transform: scale(.5, .5);
  -webkit-transform-origin: 0 0;
  -o-transform: scale(.5, .5);
  -o-transform-origin: 0 0;
    margin-top: -300px;
}

body.presenter_view .slide.far-past {
  display: block;
  margin-left: -1500px;
}

body.presenter_view .slide.past {
  display: block;
  margin-left: -975px;
}

body.presenter_view .slide.current {
  display: block;
  margin-left: -475px;
  border: 8px solid maroon;
  z-index: 2;
}

body.presenter_view .slide.future {
  display: block;
  margin-left: 25px;
  z-index: 1;
}

body.presenter_view .slide.far-future {
  display: block;
  margin-left: 525px;
}

body.presenter_view div#current_presenter_notes {
    visibility: visible;
    display: block;
    position: absolute;
    overflow: auto;
    vertical-align: middle;
    left: 50%;
    top: 50%;
    margin-left: -475px;
    margin-top: 100px;
    z-index: 2;
    width: 950px;
    border-style: solid;
    height: 30%;
    background-color: silver;
}

body.presenter_view div#current_presenter_notes section {
  font-family: "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
  color: black;
  text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
  display: block;
  overflow: visible;
    position: relative;
    background-color: #fffeff;
    height: 120px;
    margin-right: 30px;
    margin-top: 60px;
    margin-left: 30px;
    padding-right: 10px;
    padding-left: 10px;
    padding-top: 10px;
}

body.presenter_view div#current_presenter_notes section p {
    margin: 0;
}

body.presenter_view div#current_presenter_notes h1 {
    font-size: 50%;
    display: block;
}

div#current_presenter_notes {
  display: none;
}

div.slide div.presenter_notes, div.slides div.presenter_notes {
  display: none;
}

/* Slide styles */

div.slide p {
  font-size: 20px;
}

.slide.far-past {
  display: block;
  margin-left: -2400px;
}

.slide.past {
  display: block;
  margin-left: -1400px;
}

.slide.current {
  display: block;
  margin-left: -450px;
}

.slide.future {
  display: block;
  margin-left: 500px;
}

.slide.far-future {
  display: block;
  margin-left: 1500px;
}

body.three-d div.slides {
  -webkit-transform: translateX(50px) scale(0.8) rotateY(10deg);
  -moz-transform: translateX(50px) scale(0.8) rotateY(10deg);
  -o-transform: translateX(50px) scale(0.8) rotateY(10deg);
}


/* Content */

header:not(:only-child) {
  font-family: "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
  font-weight: normal;
  font-size: 50px;
  letter-spacing: -.05em;
  color: black;
  text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
  position: absolute;
  left: 30px;
  top: 25px;
  margin: 0;
  padding: 0;
}

header h1, header h2, header h3, header h4, header h5, header h6 {
  display: inline;
  font-size: 100%;
  font-weight: normal;
  padding: 0;
  margin: 0;
}

header h2:first-child {
  margin-top: 0;
}

section, .slide header:only-child h1 {
  font-family: "Lucida Grande", "Trebuchet MS", Verdana, sans-serif;
  color: #3f3f3f;
  text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
  margin-left: 30px;
  margin-right: 30px;
  margin-top: 100px;
  display: block;
  overflow: hidden;
}

img { display: block; margin: auto; }

section img.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

section img.align-right {
  display: block;
  margin-left: auto;
  margin-right: 0;
}

section img.align-left {
  display: block;
  margin-right: auto;
  margin-left: 0;
}

a {
  color: inherit;
  display: inline-block;
  text-decoration: none;
  line-height: 110%;
  border-bottom: 2px solid #3f3f3f;
}

pre {
  font-size: 16px;
  font-family: Monaco, Courier, monospace;
}

li {
  padding: 10px 0;
  font-size: 20px;
}

.slide header:only-child h1 {
  line-height: 180%;
  text-align: center;
  display: table-cell;
  vertical-align: middle;
  height: 700px;
  width: 900px;
  font-size: 50px;
  margin-top:100px;
  margin-bottom:100px;
}

.sidebar {
  clear: both;
  background: -webkit-gradient(linear, top right, bottom right, from(#dde), to(#fff));
  -webkit-transition: margin 0.25s ease-in-out;
  background-color: #eee;
  background: -moz-linear-gradient(right, #dde, #fff);
  border-right: 5px solid #ccd;
  z-index: 9999999;
  height: 100%;
  overflow: hidden;
  top: 0;
  position: absolute;
  display: block;
  margin: 0;
  margin-left: -400px;
  padding: 10px 16px;
  overflow: auto;
  -webkit-transition: margin 0.2s ease-in-out;
  -moz-transition: margin 0.2s ease-in-out;
  -o-transition: margin 0.2s ease-in-out;
}

.sidebar h2 {
  text-shadow: rgba(0, 0, 0, 0.2) 0 2px 5px;
  margin: 0 0 16px;
  padding: 0;
}

.sidebar table {
  width: 100%;
  margin: 0;
  padding: 0;
  border-collapse: collapse;
}

.sidebar table caption {
  display: none;
}

.sidebar tr {
  margin: 2px 0;
  border-bottom: 1px solid #ccc;
}

.sidebar th {
  text-align: left;
  font-weight: normal;
  max-width: 300px;
  overflow: hidden;
}

.sidebar tr.sub th {
  text-indent: 20px;
}

.sidebar td {
  text-align: right;
  min-width: 20px;
}

.sidebar a {
  display: block;
  text-decoration: none;
  border-bottom: none;
  padding: 4px 0;
}

.sidebar tr.active {
  background: #ff0;
}

aside {
  display: none;
}
  aside.source {
    position: absolute;
    bottom: 6px;
    left: 10px;
    text-indent: 10px;
  }
  aside.page_number {
    position: absolute;
    bottom: 6px;
    right: 10px;
    text-indent: 10px;
  }

.notes {
  display: none;
  padding: 10px;
  background: #ccc;
  border-radius: 10px;
  -moz-border-radius: 10px;
  -webkit-border-radius: 10px;
}
  div.slide p.notes {
    font-size: 90%;
}

/* Pygments default theme */
.hll { background-color: #ffffcc }
.c { color: #408080; font-style: italic } /* Comment */
.err { border: 1px solid #FF0000 } /* Error */
.k { color: #008000; font-weight: bold } /* Keyword */
.o { color: #666666 } /* Operator */
.cm { color: #408080; font-style: italic } /* Comment.Multiline */
.cp { color: #BC7A00 } /* Comment.Preproc */
.c1 { color: #408080; font-style: italic } /* Comment.Single */
.cs { color: #408080; font-style: italic } /* Comment.Special */
.gd { color: #A00000 } /* Generic.Deleted */
.ge { font-style: italic } /* Generic.Emph */
.gr { color: #FF0000 } /* Generic.Error */
.gh { color: #000080; font-weight: bold } /* Generic.Heading */
.gi { color: #00A000 } /* Generic.Inserted */
.go { color: #808080 } /* Generic.Output */
.gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.gs { font-weight: bold } /* Generic.Strong */
.gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.gt { color: #0040D0 } /* Generic.Traceback */
.kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.kp { color: #008000 } /* Keyword.Pseudo */
.kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.kt { color: #B00040 } /* Keyword.Type */
.m { color: #666666 } /* Literal.Number */
.s { color: #BA2121 } /* Literal.String */
.na { color: #7D9029 } /* Name.Attribute */
.nb { color: #008000 } /* Name.Builtin */
.nc { color: #0000FF; font-weight: bold } /* Name.Class */
.no { color: #880000 } /* Name.Constant */
.nd { color: #AA22FF } /* Name.Decorator */
.ni { color: #999999; font-weight: bold } /* Name.Entity */
.ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.nf { color: #0000FF } /* Name.Function */
.nl { color: #A0A000 } /* Name.Label */
.nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.nt { color: #008000; font-weight: bold } /* Name.Tag */
.nv { color: #19177C } /* Name.Variable */
.ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.w { color: #bbbbbb } /* Text.Whitespace */
.mf { color: #666666 } /* Literal.Number.Float */
.mh { color: #666666 } /* Literal.Number.Hex */
.mi { color: #666666 } /* Literal.Number.Integer */
.mo { color: #666666 } /* Literal.Number.Oct */
.sb { color: #BA2121 } /* Literal.String.Backtick */
.sc { color: #BA2121 } /* Literal.String.Char */
.sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.s2 { color: #BA2121 } /* Literal.String.Double */
.se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.sh { color: #BA2121 } /* Literal.String.Heredoc */
.si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.sx { color: #008000 } /* Literal.String.Other */
.sr { color: #BB6688 } /* Literal.String.Regex */
.s1 { color: #BA2121 } /* Literal.String.Single */
.ss { color: #19177C } /* Literal.String.Symbol */
.bp { color: #008000 } /* Name.Builtin.Pseudo */
.vc { color: #19177C } /* Name.Variable.Class */
.vg { color: #19177C } /* Name.Variable.Global */
.vi { color: #19177C } /* Name.Variable.Instance */
.il { color: #666666 } /* Literal.Number.Integer.Long */

#blank {
  position: absolute;
  top: 0;
  left: 0;
  background-color: black;
  width: 100%;
  height: 100%;
  z-index: 64;
  display: none;
}

    </style>
    
    
    <!-- /Styles -->
    <!-- Javascripts -->
    
    <script>
      function main() {
    // Since we don't have the fallback of attachEvent and
    // other IE only stuff we won't try to run JS for IE.
    // It will run though when using Google Chrome Frame
    if (document.all) { return; }

    var currentSlideNo;
    var notesOn = false;
    var expanded = false;
    var hiddenContext = false;
    var blanked = false;
    var slides = document.getElementsByClassName('slide');
    var touchStartX = 0;
    var spaces = /\s+/, a1 = [''];
    var tocOpened = false;
    var helpOpened = false;
    var overviewActive = false;
    var modifierKeyDown = false;
    var scale = 1;
    var showingPresenterView = false;
    var presenterViewWin = null;
    var isPresenterView = false;

    var str2array = function(s) {
        if (typeof s == 'string' || s instanceof String) {
            if (s.indexOf(' ') < 0) {
                a1[0] = s;
                return a1;
            } else {
                return s.split(spaces);
            }
        }
        return s;
    };

    var trim = function(str) {
        return str.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    };

    var addClass = function(node, classStr) {
        classStr = str2array(classStr);
        var cls = ' ' + node.className + ' ';
        for (var i = 0, len = classStr.length, c; i < len; ++i) {
            c = classStr[i];
            if (c && cls.indexOf(' ' + c + ' ') < 0) {
                cls += c + ' ';
            }
        }
        node.className = trim(cls);
    };

    var removeClass = function(node, classStr) {
        var cls;
        if (!node) {
            throw 'no node provided';
        }
        if (classStr !== undefined) {
            classStr = str2array(classStr);
            cls = ' ' + node.className + ' ';
            for (var i = 0, len = classStr.length; i < len; ++i) {
                cls = cls.replace(' ' + classStr[i] + ' ', ' ');
            }
            cls = trim(cls);
        } else {
            cls = '';
        }
        if (node.className != cls) {
            node.className = cls;
        }
    };

    var getSlideEl = function(slideNo) {
        if (slideNo > 0) {
            return slides[slideNo - 1];
        } else {
            return null;
        }
    };

    var getSlideTitle = function(slideNo) {
        var el = getSlideEl(slideNo);
        if (el) {
            var headers = el.getElementsByTagName('header');
            if (headers.length > 0) {
                return el.getElementsByTagName('header')[0].innerText;
            }
        }
        return null;
    };

    var getSlidePresenterNote = function(slideNo) {
        var el = getSlideEl(slideNo);
        if (el) {
            var n = el.getElementsByClassName('presenter_notes');
            if (n.length > 0) {
                return n[0];
            }
        }
        return null;
    };

    var changeSlideElClass = function(slideNo, className) {
        var el = getSlideEl(slideNo);
        if (el) {
            removeClass(el, 'far-past past current future far-future');
            addClass(el, className);
        }
    };

    var updateSlideClasses = function(updateOther) {
        window.location.hash = (isPresenterView ? "presenter" : "slide") + currentSlideNo;

        for (var i=1; i<currentSlideNo-1; i++) {
            changeSlideElClass(i, 'far-past');
        }

        changeSlideElClass(currentSlideNo - 1, 'past');
        changeSlideElClass(currentSlideNo, 'current');
        changeSlideElClass(currentSlideNo + 1, 'future');

        for (i=currentSlideNo+2; i<slides.length+1; i++) {
            changeSlideElClass(i, 'far-future');
        }

        highlightCurrentTocLink();

        processContext();

        document.getElementsByTagName('title')[0].innerText = getSlideTitle(currentSlideNo);

        updatePresenterNotes();

        if (updateOther) { updateOtherPage(); }
    };

    var updatePresenterNotes = function() {
        if (!isPresenterView) { return; }

        var existingNote = document.getElementById('current_presenter_notes');
        var currentNote = getSlidePresenterNote(currentSlideNo).cloneNode(true);
        currentNote.setAttribute('id', 'presenter_note');

        existingNote.replaceChild(currentNote, document.getElementById('presenter_note'));
    };

    var highlightCurrentTocLink = function() {
        var toc = document.getElementById('toc');

        if (toc) {
            var tocRows = toc.getElementsByTagName('tr');
            for (var i=0; i<tocRows.length; i++) {
                removeClass(tocRows.item(i), 'active');
            }

            var currentTocRow = document.getElementById('toc-row-' + currentSlideNo);
            if (currentTocRow) {
                addClass(currentTocRow, 'active');
            }
        }
    };

    var updateOtherPage = function() {
        if (!showingPresenterView) { return; }

        var w = isPresenterView ? window.opener : presenterViewWin;
        w.postMessage('slide#' + currentSlideNo, '*');
    };

    var nextSlide = function() {
        if (currentSlideNo < slides.length) {
            currentSlideNo++;
        }
        updateSlideClasses(true);
    };

    var prevSlide = function() {
        if (currentSlideNo > 1) {
            currentSlideNo--;
        }
        updateSlideClasses(true);
    };

    var showNotes = function() {
        var notes = getSlideEl(currentSlideNo).getElementsByClassName('notes');
        for (var i = 0, len = notes.length; i < len; i++) {
            notes.item(i).style.display = (notesOn) ? 'none':'block';
        }
        notesOn = !notesOn;
    };

    var showSlideNumbers = function() {
        var asides = document.getElementsByClassName('page_number');
        var hidden = asides[0].style.display != 'block';
        for (var i = 0; i < asides.length; i++) {
            asides.item(i).style.display = hidden ? 'block' : 'none';
        }
    };

    var showSlideSources = function() {
        var asides = document.getElementsByClassName('source');
        var hidden = asides[0].style.display != 'block';
        for (var i = 0; i < asides.length; i++) {
            asides.item(i).style.display = hidden ? 'block' : 'none';
        }
    };

    var showToc = function() {
        if (helpOpened) {
                showHelp();
        }
        var toc = document.getElementById('toc');
        if (toc) {
            toc.style.marginLeft = tocOpened ? '-' + (toc.clientWidth + 20) + 'px' : '0px';
            tocOpened = !tocOpened;
        }
        updateOverview();
    };

    var showHelp = function() {
        if (tocOpened) {
                showToc();
        }

        var help = document.getElementById('help');

        if (help) {
            help.style.marginLeft = helpOpened ? '-' + (help.clientWidth + 20) + 'px' : '0px';
            helpOpened = !helpOpened;
        }
    };

    var showPresenterView = function() {
        if (isPresenterView) { return; }

        if (showingPresenterView) {
            presenterViewWin.close();
            presenterViewWin = null;
            showingPresenterView = false;
        } else {
            presenterViewWin = open(window.location.pathname + "#presenter" + currentSlideNo, 'presenter_notes',
                                                                    'directories=no,location=no,toolbar=no,menubar=no,copyhistory=no');
            showingPresenterView = true;
        }
    };

    var switch3D = function() {
        if (document.body.className.indexOf('three-d') == -1) {
            document.getElementsByClassName('presentation')[0].style.webkitPerspective = '1000px';
            document.body.className += ' three-d';
        } else {
            window.setTimeout('document.getElementsByClassName(\'presentation\')[0].style.webkitPerspective = \'0\';', 2000);
            document.body.className = document.body.className.replace(/three-d/, '');
        }
    };

    var toggleOverview = function() {
        if (!overviewActive) {
            addClass(document.body, 'expose');
            overviewActive = true;
            setScale(1);
        } else {
            removeClass(document.body, 'expose');
            overviewActive = false;
            if (expanded) {
                setScale(scale);    // restore scale
            }
        }
        processContext();
        updateOverview();
    };

    var updateOverview = function() {
        try {
            var presentation = document.getElementsByClassName('presentation')[0];
        } catch (e) {
            return;
        }

        if (isPresenterView) {
            var action = overviewActive ? removeClass : addClass;
            action(document.body, 'presenter_view');
        }

        var toc = document.getElementById('toc');

        if (!toc) {
            return;
        }

        if (!tocOpened || !overviewActive) {
            presentation.style.marginLeft = '0px';
            presentation.style.width = '100%';
        } else {
            presentation.style.marginLeft = toc.clientWidth + 'px';
            presentation.style.width = (presentation.clientWidth - toc.clientWidth) + 'px';
        }
    };

    var computeScale = function() {
        var cSlide = document.getElementsByClassName('current')[0];
        var sx = cSlide.clientWidth / window.innerWidth;
        var sy = cSlide.clientHeight / window.innerHeight;
        return 1 / Math.max(sx, sy);
    };

    var setScale = function(scale) {
        var presentation = document.getElementsByClassName('slides')[0];
        var transform = 'scale(' + scale + ')';
        presentation.style.MozTransform = transform;
        presentation.style.WebkitTransform = transform;
        presentation.style.OTransform = transform;
        presentation.style.msTransform = transform;
        presentation.style.transform = transform;
    };

    var expandSlides = function() {
        if (overviewActive) {
            return;
        }
        if (expanded) {
            setScale(1);
            expanded = false;
        } else {
            scale = computeScale();
            setScale(scale);
            expanded = true;
        }
    };

    var showContext = function() {
        try {
            var presentation = document.getElementsByClassName('slides')[0];
            removeClass(presentation, 'nocontext');
        } catch (e) {}
    };

    var hideContext = function() {
        try {
            var presentation = document.getElementsByClassName('slides')[0];
            addClass(presentation, 'nocontext');
        } catch (e) {}
    };

    var processContext = function() {
        if (hiddenContext) {
            hideContext();
        } else {
            showContext();
        }
    };

    var toggleContext = function() {
        hiddenContext = !hiddenContext;
        processContext();
    };

    var toggleBlank = function() {
        blank_elem = document.getElementById('blank');

        blank_elem.style.display = blanked ? 'none' : 'block';

        blanked = !blanked;
    };

    var isModifierKey = function(keyCode) {
        switch (keyCode) {
            case 16: // shift
            case 17: // ctrl
            case 18: // alt
            case 91: // command
                return true;
                break;
            default:
                return false;
                break;
        }
    };

    var checkModifierKeyUp = function(event) {
        if (isModifierKey(event.keyCode)) {
            modifierKeyDown = false;
        }
    };

    var checkModifierKeyDown = function(event) {
        if (isModifierKey(event.keyCode)) {
            modifierKeyDown = true;
        }
    };

    var handleBodyKeyDown = function(event) {
        switch (event.keyCode) {
            case 13: // Enter
                if (overviewActive) {
                    toggleOverview();
                }
                break;
            case 27: // ESC
                toggleOverview();
                break;
            case 37: // left arrow
            case 33: // page up
                event.preventDefault();
                prevSlide();
                break;
            case 39: // right arrow
            case 32: // space
            case 34: // page down
                event.preventDefault();
                nextSlide();
                break;
            case 50: // 2
                if (!modifierKeyDown) {
                        showNotes();
                }
                break;
            case 51: // 3
                if (!modifierKeyDown && !overviewActive) {
                    switch3D();
                }
                break;
            case 190: // .
            case 48: // 0
            case 66: // b
                if (!modifierKeyDown && !overviewActive) {
                    toggleBlank();
                }
                break;
            case 67: // c
                if (!modifierKeyDown && !overviewActive) {
                    toggleContext();
                }
                break;
            case 69: // e
                if (!modifierKeyDown && !overviewActive) {
                    expandSlides();
                }
                break;
            case 72: // h
                showHelp();
                break;
            case 78: // n
                if (!modifierKeyDown && !overviewActive) {
                    showSlideNumbers();
                }
                break;
            case 80: // p
                if (!modifierKeyDown && !overviewActive) {
                    showPresenterView();
                }
                break;
            case 83: // s
                if (!modifierKeyDown && !overviewActive) {
                    showSlideSources();
                }
                break;
            case 84: // t
                showToc();
                break;
        }
    };

    var handleWheel = function(event) {
        if (tocOpened || helpOpened || overviewActive) {
            return;
        }

        var delta = 0;

        if (!event) {
            event = window.event;
        }

        if (event.wheelDelta) {
            delta = event.wheelDelta/120;
            if (window.opera) delta = -delta;
        } else if (event.detail) {
            delta = -event.detail/3;
        }

        if (delta && delta <0) {
            nextSlide();
        } else if (delta) {
            prevSlide();
        }
    };

    var addSlideClickListeners = function() {
        for (var i=0; i < slides.length; i++) {
            var slide = slides.item(i);
            slide.num = i + 1;
            slide.addEventListener('click', function(e) {
                if (overviewActive) {
                    currentSlideNo = this.num;
                    toggleOverview();
                    updateSlideClasses(true);
                    e.preventDefault();
                }
                return false;
            }, true);
        }
    };

    var addRemoteWindowControls = function() {
        window.addEventListener("message", function(e) {
            if (e.data.indexOf("slide#") != -1) {
                    currentSlideNo = Number(e.data.replace('slide#', ''));
                    updateSlideClasses(false);
            }
        }, false);
    };

    var addTouchListeners = function() {
        document.addEventListener('touchstart', function(e) {
            touchStartX = e.touches[0].pageX;
        }, false);
        document.addEventListener('touchend', function(e) {
            var pixelsMoved = touchStartX - e.changedTouches[0].pageX;
            var SWIPE_SIZE = 150;
            if (pixelsMoved > SWIPE_SIZE) {
                nextSlide();
            }
            else if (pixelsMoved < -SWIPE_SIZE) {
             prevSlide();
            }
        }, false);
    };

    var addTocLinksListeners = function() {
        var toc = document.getElementById('toc');
        if (toc) {
            var tocLinks = toc.getElementsByTagName('a');
            for (var i=0; i < tocLinks.length; i++) {
                tocLinks.item(i).addEventListener('click', function(e) {
                    currentSlideNo = Number(this.attributes['href'].value.replace('#slide', ''));
                    updateSlideClasses(true);
                    e.preventDefault();
                }, true);
            }
        }
    };

    // initialize

    (function() {
        if (window.location.hash == "") {
            currentSlideNo = 1;
        } else if (window.location.hash.indexOf("#presenter") != -1) {
            currentSlideNo = Number(window.location.hash.replace('#presenter', ''));
            isPresenterView = true;
            showingPresenterView = true;
            presenterViewWin = window;
            addClass(document.body, 'presenter_view');
        } else {
            currentSlideNo = Number(window.location.hash.replace('#slide', ''));
        }

        document.addEventListener('keyup', checkModifierKeyUp, false);
        document.addEventListener('keydown', handleBodyKeyDown, false);
        document.addEventListener('keydown', checkModifierKeyDown, false);
        document.addEventListener('DOMMouseScroll', handleWheel, false);

        window.onmousewheel = document.onmousewheel = handleWheel;
        window.onresize = expandSlides;

        for (var i = 0, el; el = slides[i]; i++) {
            addClass(el, 'slide far-future');
        }
        updateSlideClasses(false);

        // add support for finger events (filter it by property detection?)
        addTouchListeners();

        addTocLinksListeners();

        addSlideClickListeners();

        addRemoteWindowControls();
    })();
}

    </script>
    
    
    <!-- /Javascripts -->
</head>
<body>
  <div id="blank"></div>
  <div class="presentation">
    <div id="current_presenter_notes">
      <div id="presenter_note"></div>
    </div>
    <div class="slides">
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><code>nil</code>: historical, theoretical, comparative, philosophical, and practical perspectives <br> <i>Franklin Chen</i> <br> <i><a href="http://franklinchen.com/">http://franklinchen.com/</a></i> <br> Pittsburgh Ruby <br> September 6, 2012</h1></header>
            
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              1/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>About me</h1></header>
            
            
            <section><ul>
<li>my first Pittsburgh Ruby meeting: November 2010</li>
<li>programmer at CMU, psychology department</li>
</ul>
<h2>Approach to programming</h2>
<ul>
<li>be pragmatic</li>
<li>improve</li>
<li>apply theory to practice</li>
<li>understand we are human</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              2/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Polyglot</h1></header>
            
            
            <section><ul>
<li>Ruby</li>
<li>Java</li>
<li>Python</li>
<li>Perl</li>
<li>Lisp</li>
<li>ML</li>
<li>Haskell</li>
<li>Scala</li>
<li>C++</li>
<li>JavaScript</li>
<li>XSLT</li>
<li>etc.</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              3/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Why I'm giving this talk</h1></header>
            
            
            <section><p><em>Steel City Ruby Conf</em> in August 2012: my first Ruby conference</p>
<h2>Josh Susser, <em>Thinking in Objects</em></h2>
<p>Josh advocated <a href="http://en.wikipedia.org/wiki/Monkey_patch">monkey-patching</a> of <code>nil</code> to remove a <code>nil</code> check in an <code>if</code>/<code>else</code>.</p>
<p><img alt="Monkey patching cartoon" src="http://i.qkme.me/353lnj.jpg" /></p>
<p>Hated!</p>
<h2>Many lightning talks at conference</h2>
<p>Inspired!</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              4/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>History: "My billion-dollar mistake"</h1></header>
            
            
            <section><blockquote>
<p>I call it my billion-dollar mistake. It was the invention of the <strong>null reference</strong> in 1965. At that time, I was designing the first comprehensive type system for references in an object oriented language (ALGOL W). My goal was to ensure that all use of references should be absolutely <strong>safe</strong>, with checking performed automatically by the compiler. But I couldn't resist the temptation to put in a null reference, <strong>simply because it was so easy to implement</strong>. This has led to innumerable errors, vulnerabilities, and system crashes, which have probably caused <strong>a billion dollars of pain and damage in the last forty years</strong>.</p>
</blockquote>
<p>Who <a href="http://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare">said this in 2009</a>?</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              5/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><a href="http://en.wikipedia.org/wiki/Tony_Hoare">Tony Hoare</a></h1></header>
            
            
            <section><ul>
<li>invented and implemented <code>null</code> (1965)</li>
<li>invented and implemented Quicksort (1960)</li>
<li>invented much other important stuff</li>
<li>won Turing Award (1980):</li>
</ul>
<blockquote>
<p><em>fundamental contributions to the definition and design of programming languages</em></p>
</blockquote>
<p><img alt="Tony Hoare in 2011" src="http://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Sir_Tony_Hoare_IMG_5125.jpg/240px-Sir_Tony_Hoare_IMG_5125.jpg" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              6/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>History: "Pornographic programming"</h1></header>
            
            
            <section><blockquote>
<p>The unexpected appearance of an interpreter tended to freeze the form of the language, and some of the decisions made rather lightheartedly for the ... paper later proved unfortunate. These included ... the use of the number zero to denote the empty list NIL and the truth value false. Besides encouraging <strong>pornographic programming</strong>, giving a special interpretation to the address 0 has caused difficulties in all subsequent implementations.</p>
</blockquote>
<p>Who <a href="http://www-formal.stanford.edu/jmc/history/lisp/node3.html#SECTION00030000000000000000">said this in 1979</a>?</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              7/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><a href="http://en.wikipedia.org/wiki/John_McCarthy_(computer_scientist)">John McCarthy</a></h1></header>
            
            
            <section><ul>
<li>invented Lisp in <a href="http://www-formal.stanford.edu/jmc/recursive.html">1960</a></li>
<li>implemented <code>nil</code></li>
<li>invented the term and field of Artificial Intelligence</li>
<li>won Turing Award (1971)</li>
</ul>
<p><img alt="John McCarthy in 2006" src="http://upload.wikimedia.org/wikipedia/commons/thumb/4/49/John_McCarthy_Stanford.jpg/320px-John_McCarthy_Stanford.jpg" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              8/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Our heroes: <code>null</code> vs. <code>nil</code></h1></header>
            
            
            <section><p><code>null</code>: <em>billion-dollar mistake</em></p>
<p><img alt="Tony Hoare in 2011" src="http://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Sir_Tony_Hoare_IMG_5125.jpg/240px-Sir_Tony_Hoare_IMG_5125.jpg" /></p>
<p><code>nil</code>: <em>pornographic programming</em></p>
<p><img alt="John McCarthy in 2006" src="http://upload.wikimedia.org/wikipedia/commons/thumb/4/49/John_McCarthy_Stanford.jpg/320px-John_McCarthy_Stanford.jpg" /></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              9/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Topics to discuss</h1></header>
            
            
            <section><ul>
<li><code>nil</code> and <code>null</code> in Ruby and other languages</li>
<li>the problems</li>
<li>reasons for the honest mistakes</li>
<li>solutions to the problems</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              10/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Starting with basics: Ruby <code>nil</code></h1></header>
            
            
            <section><p>Who has <em>never</em> seen this output when running a Ruby program?</p>
<div class="highlight"><pre><span class="go">nil.rb:2:in `&lt;main&gt;&#39;: undefined method `name&#39; for nil:NilClass (NoMethodError)</span>
</pre></div>

<p>Point of failure:</p>
<div class="highlight"><pre><span class="nb">puts</span> <span class="s1">&#39;Dr. &#39;</span> <span class="o">+</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span>
</pre></div>

<h2><em>What went wrong?</em></h2>
<p>(Trick question.)</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              11/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Not only a Ruby problem</h1></header>
            
            
            <section><h2>C++</h2>
<p>C++ is <em>unsafe</em>: fails catastrophically on <code>NULL</code> dereference:</p>
<div class="highlight"><pre><span class="go">Segmentation fault: 11</span>
</pre></div>

<p>Point of failure:</p>
<div class="highlight"><pre><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">&quot;Dr. &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">person</span><span class="o">-&gt;</span><span class="n">getName</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
</pre></div>

<h2>Java</h2>
<p>Java (like Ruby) is <em>safe</em>: checks for <code>null</code> dynamically:</p>
<div class="highlight"><pre><span class="go">Exception in thread &quot;main&quot; java.lang.NullPointerException</span>
<span class="go">        at Null.main(Null.java:10)</span>
</pre></div>

<p>Point of failure:</p>
<div class="highlight"><pre><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;Dr. &quot;</span> <span class="o">+</span> <span class="n">person</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              12/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Ruby <code>nil</code>'s cousins</h1></header>
            
            
            <section><ul>
<li><code>nil</code> (Smalltalk, Lisp)</li>
<li><code>null</code> (Java)</li>
<li><code>NULL</code> (C)</li>
<li><code>nullptr</code> (C++)</li>
<li><code>undef</code> (Perl)</li>
<li><code>None</code> (Python)</li>
<li><code>None</code> (OCaml, Scala)</li>
<li><code>Nothing</code> (Haskell)</li>
<li>etc.</li>
</ul>
<p><em>Most of these engage in some form and extremeness level of pornography.</em></p>
<p>Of those, we focus on Ruby's <code>nil</code>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              13/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><code>nil</code> in Ruby</h1></header>
            
            
            <section><p><em>Taken from <a href="http://en.wikipedia.org/wiki/Smalltalk">Smalltalk</a>, invented in 1971, inspired by <a href="http://en.wikipedia.org/wiki/Lisp_(programming_language)">Lisp</a>.</em></p>
<ul>
<li>class <a href="http://www.ruby-doc.org/core-1.9.3/NilClass.html"><code>NilClass</code></a></li>
<li>singleton object <code>nil</code> of <code>NilClass</code></li>
</ul>
<p>Some methods:</p>
<ul>
<li>&amp;</li>
<li><code>nil?</code></li>
<li><code>to_a</code></li>
<li><code>to_s</code></li>
<li>etc.</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              14/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Philosophy: ethics</h1></header>
            
            
            <section><h2>Action</h2>
<p>Who does what to whom?</p>
<h2>Intention</h2>
<p>Who intends to do what?</p>
<h2>Responsibility</h2>
<p>Who should do what?</p>
<h2>Means</h2>
<p>How does one do something?</p>
<h2>Trust</h2>
<p>How to believe someone has done the right thing?</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              15/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Ruby <code>nil</code> example, revisited</h1></header>
            
            
            <section><p>Failure:</p>
<div class="highlight"><pre><span class="go">nil.rb:2:in `&lt;main&gt;&#39;: undefined method `name&#39; for nil:NilClass (NoMethodError)</span>
</pre></div>

<p>Code that crashed:</p>
<div class="highlight"><pre><span class="nb">puts</span> <span class="s1">&#39;Dr. &#39;</span> <span class="o">+</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span>
</pre></div>

<h2><em>"What went wrong?"</em></h2>
<p>Three cases:</p>
<ul>
<li><em>unintentionally</em> uninitialized, left at default value of <code>nil</code></li>
<li><em>deliberately</em> assigned <code>nil</code></li>
<li><em>deliberately</em> assigned a reference to some other object, which happened to be <code>nil</code></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              16/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>1: Unintentionally uninitialized</h1></header>
            
            
            <section><p>Problem: forgot to initialize <code>person</code> as <em>intended</em>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              17/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>1: Initialization solution</h1></header>
            
            
            <section><p>Solution:</p>
<ul>
<li>track back</li>
<li>find <em>responsible</em> code path</li>
<li>insert initialization</li>
<li>initialization logic: <em>responsible</em> not to return <code>nil</code></li>
<li>obtain initial value from a source of <em>trust</em>, which never returns <code>nil</code></li>
</ul>
<p>New code somewhere:</p>
<div class="highlight"><pre><span class="n">person</span> <span class="o">=</span> <span class="no">Person</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="ss">:name</span> <span class="o">=&gt;</span> <span class="s1">&#39;Smith&#39;</span><span class="p">)</span>
</pre></div>

<p>Note: <code>Person.new</code> will never return <code>nil</code> if it succeeds at all.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              18/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>2: Deliberate <code>nil</code></h1></header>
            
            
            <section><p>Problem: <code>person</code> was <em>intended</em> to be <code>nil</code>, to indicate there is no longer a person.</p>
<p>Elaboration: there was a person in the room, but the person left, so <code>person</code> was set to <code>nil</code>, and there should be no greeting.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              19/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>2: Deliberate <code>nil</code> solution</h1></header>
            
            
            <section><p>Solution:</p>
<ul>
<li>caller <em>trusts</em> that <code>person</code> could be <code>nil</code></li>
<li>caller is <em>responsible</em> to check for <code>nil</code></li>
<li>caller is <em>responsible</em> for adding appropriate <em>action</em> in case of <code>nil</code></li>
</ul>
<p>New caller code:</p>
<div class="highlight"><pre><span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">nil?</span>
  <span class="nb">puts</span> <span class="s1">&#39;I see nobody here&#39;</span>
<span class="k">else</span>
  <span class="nb">puts</span> <span class="s1">&#39;Dr. &#39;</span> <span class="o">+</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span>
<span class="k">end</span>
</pre></div>

<p>Note: putting in a <code>nil</code> check is not enough; must provide entire code path.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              20/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>3: Deliberately assigned reference</h1></header>
            
            
            <section><p>Problem: <code>person</code> was assigned <code>some_method(...)</code> at some point.</p>
<div class="highlight"><pre><span class="n">person</span> <span class="o">=</span> <span class="n">room</span><span class="o">.</span><span class="n">find_tallest_person</span>
<span class="nb">puts</span> <span class="s1">&#39;Dr. &#39;</span> <span class="o">+</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              21/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>3: No solution: problem propagated</h1></header>
            
            
            <section><p>New problem: locally, without further context,</p>
<ul>
<li>don't know whether <code>person</code> is ever <em>intended</em> to possibly be <code>nil</code></li>
<li>don't know whether <code>some_method</code> is <em>responsible</em> for giving us <code>nil</code> or non-<code>nil</code></li>
<li>don't know whether the caller code has any <em>responsibility</em> to check <code>nil</code></li>
<li>we don't know what <em>action</em> to take, and whom to <em>trust</em></li>
</ul>
<p>The big problem with <code>nil</code>: <em>any assignment other than to <code>nil</code> itself or a constructor call might or might not result in <code>nil</code></em>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              22/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>3: "Defensive" <code>nil</code> checks?</h1></header>
            
            
            <section><p>Solution (?):</p>
<ul>
<li>caller has <em>trusts</em> nobody: check every single variable read with <code>nil?</code></li>
<li>caller always <em>responsible</em> for some <em>action</em> for any possible <code>nil</code> branch</li>
</ul>
<p>Drawbacks:</p>
<ul>
<li>code bloat</li>
<li>inefficiency</li>
<li>loss of clear <em>intention</em> and <em>trust</em></li>
<li>loss of incentive for anyone to be <em>responsible</em> for guaranteeing non-<code>nil</code>, since everyone will check anyway</li>
</ul>
<p>How many people code in this way?</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              23/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>3: Give up goal of no <code>nil</code> exceptions?</h1></header>
            
            
            <section><p>Solution (?):</p>
<ul>
<li>use a few defensive <code>nil</code> checks</li>
<li>document (with <a href="http://yardoc.org/">YARD</a>?) what can or cannot be <code>nil</code></li>
<li>write unit tests, acceptance tests, etc.</li>
<li>handle exception at some high level in program</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre><span class="k">begin</span>
  <span class="c1"># deeply nested code...</span>
<span class="k">rescue</span> <span class="no">NoMethodError</span> <span class="o">=&gt;</span> <span class="n">e</span>
  <span class="c1"># restart the app at some good state</span>
<span class="k">end</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              24/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Bad monkey-patching</h1></header>
            
            
            <section><p>Ruby allows monkey-patching: modifying a class.</p>
<p>Solution (?):</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">NilClass</span>
  <span class="k">def</span> <span class="nf">name</span>
    <span class="s1">&#39;Default Name&#39;</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">person</span> <span class="o">=</span> <span class="kp">nil</span>
<span class="nb">puts</span> <span class="s1">&#39;Dr. &#39;</span> <span class="o">+</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span>
</pre></div>

<p>Output:</p>
<div class="highlight"><pre><span class="go">Dr. Default Name</span>
</pre></div>

<p>Drawbacks:</p>
<ul>
<li>global <code>nil</code> <em>responsible</em> for a person's name??</li>
<li><em>worse than failing</em>: produces wrong output!!</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              25/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Even worse monkey-patching</h1></header>
            
            
            <section><p>Not a solution either:</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">NilClass</span>
  <span class="k">def</span> <span class="nf">method_missing</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="kp">nil</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">person</span> <span class="o">=</span> <span class="kp">nil</span>
<span class="nb">puts</span> <span class="s1">&#39;Dr. &#39;</span> <span class="o">+</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">junk</span><span class="o">.</span><span class="n">nonsense</span><span class="o">.</span><span class="n">everywhere</span>
</pre></div>

<p>Output:</p>
<div class="highlight"><pre><span class="go">nil-monkey-all.rb:8:in `+&#39;: can&#39;t convert NilClass to String (NilClass#to_str</span>
<span class="go">                            gives NilClass) (TypeError)</span>
<span class="go">        from nil-monkey-all.rb:8:in `&lt;main&gt;&#39;</span>
</pre></div>

<p>Drawbacks:</p>
<ul>
<li>silently swallows up a whole series of nonexistent methods</li>
<li>fails far worse than original code that failed fast at <code>name</code></li>
<li><code>puts person.name.junk.nonsense.everywhere</code> would have succeeded, unintentionally</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              26/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Philosophy: what is nothingness?</h1></header>
            
            
            <section><p><em>absence</em> of a <code>Person</code></p>
<p><strong>should not be the same concept as</strong></p>
<p><em>presence</em> of a <code>NilClass</code></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              27/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>History: why <code>null</code> and <code>nil</code>?</h1></header>
            
            
            <section><p>Tony Hoare and John McCarthy knew how to do things right in the 1960s, but <em>chose</em> not to!</p>
<ul>
<li>Hoare invented <code>null</code> for a statically typed language for <em>efficiency</em> and his convenience as a compiler writer</li>
<li>McCarthy implemented "pornographic" properties of <code>nil</code> for a dynamically typed language for <em>efficiency</em> and his convenience as an interpreter writer</li>
</ul>
<p><strong>"Those who cannot remember the past are condemned to repeat it."</strong> (George Santayana, 1905)</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              28/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Fixing <code>null</code> and <code>nil</code></h1></header>
            
            
            <section><ul>
<li><code>null</code>: replace with static type system as in <em>functional</em> languages</li>
<li><code>nil</code>: replace with <em>object-oriented</em> design pattern</li>
</ul>
<p>Explore both: duality between functional and object-oriented languages.</p>
<p>Start with functional.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              29/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>A basic static type system</h1></header>
            
            
            <section><ul>
<li>computation as a branch of <em>philosophy</em></li>
<li>static type system: a <em>language</em> for understanding programming languages</li>
</ul>
<p>Examples in Haskell syntax for convenience.</p>
<p>(Note: intended semantics is ML: Haskell's lazy types introduce complications.)</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              30/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Primitive types</h1></header>
            
            
            <section><p>Primitive types:</p>
<div class="highlight"><pre><span class="nf">example1</span> <span class="ow">::</span> <span class="kt">Int</span>
<span class="nf">example1</span> <span class="ow">=</span> <span class="mi">42</span>

<span class="nf">example2</span> <span class="ow">::</span> <span class="kt">Char</span>
<span class="nf">example2</span> <span class="ow">=</span> <span class="sc">&#39;c&#39;</span>

<span class="nf">example3</span> <span class="ow">::</span> <span class="nb">()</span>
<span class="nf">example3</span> <span class="ow">=</span> <span class="nb">()</span>
</pre></div>

<p>etc.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              31/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Product types (records)</h1></header>
            
            
            <section><p>Tuples of type <code>A</code> <em>and</em> type <code>B</code> <em>and</em> ...</p>
<p>Most languages add syntactic sugar and semantics, as records or structs or classes.</p>
<div class="highlight"><pre><span class="kr">type</span> <span class="kt">Person</span> <span class="ow">=</span> <span class="p">(</span><span class="kt">Int</span><span class="p">,</span> <span class="kt">String</span><span class="p">)</span>

<span class="nf">person</span> <span class="ow">::</span> <span class="kt">Person</span>
<span class="nf">person</span> <span class="ow">=</span> <span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="s">&quot;Sally&quot;</span><span class="p">)</span>

<span class="nf">example</span> <span class="ow">::</span> <span class="p">(</span><span class="kt">Bool</span><span class="p">,</span> <span class="kt">Person</span><span class="p">)</span>
<span class="nf">example</span> <span class="ow">=</span> <span class="p">(</span><span class="kt">True</span><span class="p">,</span> <span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="s">&quot;Sally&quot;</span><span class="p">))</span>
</pre></div>

<p>Real Haskell has records:</p>
<div class="highlight"><pre><span class="kr">data</span> <span class="kt">Person</span> <span class="ow">=</span> <span class="kt">P</span> <span class="p">{</span> <span class="n">id</span> <span class="ow">::</span> <span class="kt">Int</span><span class="p">,</span> <span class="n">name</span> <span class="ow">::</span> <span class="kt">String</span> <span class="p">}</span>

<span class="nf">person</span> <span class="ow">::</span> <span class="kt">Person</span>
<span class="nf">person</span> <span class="ow">=</span> <span class="kt">P</span> <span class="p">{</span> <span class="n">id</span> <span class="ow">=</span> <span class="mi">42</span><span class="p">,</span> <span class="n">name</span> <span class="ow">=</span> <span class="s">&quot;Sally&quot;</span> <span class="p">}</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              32/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Sum types (<a href="http://en.wikipedia.org/wiki/Tagged_union">tagged unions</a>)</h1></header>
            
            
            <section><p>Type <code>A</code> <em>or</em> type <code>B</code> <em>or</em> ..., value tagged with which one it is.</p>
<p>Familiar from ALGOL (1960s), Pascal (1970s), etc.</p>
<div class="highlight"><pre><span class="kr">data</span> <span class="kt">Color</span> <span class="ow">=</span> <span class="kt">Red</span> <span class="o">|</span> <span class="kt">Blue</span>
<span class="nf">example1</span> <span class="ow">=</span> <span class="kt">Red</span>
<span class="nf">example2</span> <span class="ow">=</span> <span class="kt">Blue</span>

<span class="kr">data</span> <span class="kt">Bool</span> <span class="ow">=</span> <span class="kt">False</span> <span class="o">|</span> <span class="kt">True</span>

<span class="kr">data</span> <span class="kt">Key</span> <span class="ow">=</span> <span class="kt">Name</span> <span class="kt">String</span> <span class="o">|</span> <span class="kt">ID</span> <span class="kt">Int</span>
<span class="nf">example1</span> <span class="ow">=</span> <span class="kt">Name</span> <span class="s">&quot;Sally&quot;</span>
<span class="nf">example2</span> <span class="ow">=</span> <span class="kt">ID</span> <span class="mi">12</span>

<span class="kr">data</span> <span class="kt">Login</span> <span class="ow">=</span> <span class="kt">Guest</span> <span class="o">|</span> <span class="kt">User</span> <span class="kt">Key</span>
<span class="nf">example1</span> <span class="ow">=</span> <span class="kt">Guest</span>
<span class="nf">example2</span> <span class="ow">=</span> <span class="kt">User</span> <span class="p">(</span><span class="kt">Name</span> <span class="s">&quot;Sally&quot;</span><span class="p">)</span>
<span class="nf">example3</span> <span class="ow">=</span> <span class="kt">User</span> <span class="p">(</span><span class="kt">ID</span> <span class="mi">12</span><span class="p">)</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              33/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Function types</h1></header>
            
            
            <section><p>Function type from type <code>A</code> to type <code>B</code>:</p>
<div class="highlight"><pre><span class="nf">addInts</span> <span class="ow">::</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">Int</span> <span class="ow">-&gt;</span> <span class="kt">Int</span>
<span class="nf">addInts</span> <span class="n">x</span> <span class="n">y</span> <span class="ow">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>

<span class="nf">greeting</span> <span class="ow">::</span> <span class="kt">Person</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
<span class="nf">greeting</span> <span class="n">person</span> <span class="ow">=</span> <span class="s">&quot;Dr. &quot;</span> <span class="o">++</span> <span class="n">name</span> <span class="n">person</span>
</pre></div>

<p>Note: <code>greeting</code> never gets a <code>null</code> and never fails.</p>
<p>The type system guarantees that <code>greeting</code> can only be called on a valid <code>Person</code>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              34/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>But we need nothingness!</h1></header>
            
            
            <section><p>In real life, need a way to express: <code>x</code> can be bound to a <code>Person</code> <em>or</em> to nothing.</p>
<p>Very easy: use a sum type!</p>
<div class="highlight"><pre><span class="kr">data</span> <span class="kt">MaybePerson</span> <span class="ow">=</span> <span class="kt">Nobody</span>
                 <span class="o">|</span> <span class="kt">One</span> <span class="kt">Person</span>

<span class="c1">-- OK</span>
<span class="nf">person</span> <span class="ow">::</span> <span class="kt">Person</span>
<span class="nf">person</span> <span class="ow">=</span> <span class="kt">P</span> <span class="p">{</span> <span class="n">id</span> <span class="ow">=</span> <span class="mi">42</span><span class="p">,</span> <span class="n">name</span> <span class="ow">=</span> <span class="s">&quot;Sally&quot;</span> <span class="p">}</span>

<span class="c1">-- type error!</span>
<span class="nf">personFAIL</span> <span class="ow">=</span> <span class="kt">Nobody</span>

<span class="c1">-- OK, nobody</span>
<span class="nf">possiblePerson1</span> <span class="ow">::</span> <span class="kt">MaybePerson</span>
<span class="nf">possiblePerson1</span> <span class="ow">=</span> <span class="kt">Nobody</span>

<span class="c1">-- Wrapped person</span>
<span class="nf">possiblePerson2</span> <span class="ow">::</span> <span class="kt">MaybePerson</span>
<span class="nf">possiblePerson2</span> <span class="ow">=</span> <span class="kt">One</span> <span class="p">(</span><span class="kt">P</span> <span class="p">{</span> <span class="n">id</span> <span class="ow">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">name</span> <span class="ow">=</span> <span class="s">&quot;Jack&quot;</span> <span class="p">})</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              35/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Dealing with a possible <code>Person</code></h1></header>
            
            
            <section><p>Functions can be defined to require a <code>Person</code> or <code>MaybePerson</code>:</p>
<div class="highlight"><pre><span class="nf">greeting</span> <span class="ow">::</span> <span class="kt">Person</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
<span class="nf">greeting</span> <span class="n">person</span> <span class="ow">=</span> <span class="s">&quot;Dr. &quot;</span> <span class="o">++</span> <span class="n">name</span> <span class="n">person</span>

<span class="c1">-- will not type check</span>
<span class="nf">greetingForMaybePersonFAIL</span> <span class="ow">::</span> <span class="kt">MaybePerson</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
<span class="nf">greetingForMaybePersonFAIL</span> <span class="n">person</span> <span class="ow">=</span> <span class="s">&quot;Dr. &quot;</span> <span class="o">++</span> <span class="n">name</span> <span class="n">person</span>

<span class="c1">-- type checks</span>
<span class="nf">greetingForMaybePerson</span> <span class="ow">::</span> <span class="kt">MaybePerson</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
<span class="nf">greetingForMaybePerson</span> <span class="n">maybePerson</span> <span class="ow">=</span>
  <span class="kr">case</span> <span class="n">maybePerson</span> <span class="kr">of</span>
    <span class="kt">Nobody</span>     <span class="ow">-&gt;</span> <span class="s">&quot;I see nobody here&quot;</span>
    <span class="kt">One</span> <span class="n">person</span> <span class="ow">-&gt;</span> <span class="s">&quot;Dr. &quot;</span> <span class="o">++</span> <span class="n">name</span> <span class="n">person</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              36/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>No silver bullet</h1></header>
            
            
            <section><p>This technique does <em>not</em> prevent buggy code!</p>
<div class="highlight"><pre><span class="c1">-- type checks, but compiler warns of missing case of Nobody</span>
<span class="nf">greetingForMaybePersonBAD</span> <span class="ow">::</span> <span class="kt">MaybePerson</span> <span class="ow">-&gt;</span> <span class="kt">String</span>
<span class="nf">greetingForMaybePersonBAD</span> <span class="n">maybePerson</span> <span class="ow">=</span>
  <span class="kr">case</span> <span class="n">maybePerson</span> <span class="kr">of</span>
    <span class="kt">One</span> <span class="n">person</span> <span class="ow">-&gt;</span> <span class="s">&quot;Dr. &quot;</span> <span class="o">++</span> <span class="n">name</span> <span class="n">person</span>

<span class="c1">-- run this code</span>
<span class="nf">greetingForMaybePersonBAD</span> <span class="kt">Nobody</span>
</pre></div>

<p>Failure:</p>
<div class="highlight"><pre><span class="go">Exception: Non-exhaustive patterns in case</span>
</pre></div>

<p>But at least the compiler warns you of code branches you were supposed to write.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              37/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Wrapping up on types: parameterized</h1></header>
            
            
            <section><p>Parameterized types (generics) use type variables such as <code>a</code>, <code>b</code>.</p>
<p>C++ templates, C# generics, Java generics, etc.</p>
<div class="highlight"><pre><span class="kr">type</span> <span class="kt">NestedTriple</span> <span class="n">a</span> <span class="n">b</span> <span class="n">c</span> <span class="ow">=</span> <span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">))</span>

<span class="nf">example1</span> <span class="ow">::</span> <span class="kt">NestedTriple</span> <span class="kt">Boolean</span> <span class="kt">Int</span> <span class="kt">String</span>
<span class="nf">example1</span> <span class="ow">=</span> <span class="p">(</span><span class="kt">True</span><span class="p">,</span> <span class="p">(</span><span class="mi">42</span><span class="p">,</span> <span class="s">&quot;Sally&quot;</span><span class="p">))</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              38/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1><code>Maybe</code> as parameterized type</h1></header>
            
            
            <section><p>The static typing way to mitigate the <code>nil</code> problem:</p>
<div class="highlight"><pre><span class="kr">data</span> <span class="kt">Maybe</span> <span class="n">a</span> <span class="ow">=</span> <span class="kt">Nothing</span> <span class="o">|</span> <span class="kt">Just</span> <span class="n">a</span>
</pre></div>

<p>Avoid having to create a special <code>MaybeX</code> wrapper type for every type we want to have a <code>nil</code> possibility for.</p>
<div class="highlight"><pre><span class="nf">possiblePerson</span><span class="ow">::</span> <span class="kt">Maybe</span> <span class="kt">Person</span>
<span class="nf">possiblePerson</span> <span class="ow">=</span> <span class="kt">Maybe</span> <span class="p">(</span><span class="kt">P</span> <span class="p">{</span> <span class="n">id</span> <span class="ow">=</span> <span class="mi">12</span><span class="p">,</span> <span class="n">name</span> <span class="ow">=</span> <span class="s">&quot;Jack&quot;</span> <span class="p">})</span>
</pre></div>

<p><a href="http://www.standardml.org/Basis/option.html">Standard ML</a>, <a href="http://ocaml-lib.sourceforge.net/doc/Option.html">OCaml</a>, <a href="http://www.scala-lang.org/api/current/scala/Option.html">Scala</a> also have this parameterized type, except that they use different words: <code>Option</code> instead of <code>Maybe</code>, <code>None</code> instead of <code>Nothing</code>, and <code>Some</code> instead of <code>Just</code>.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              39/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><code>Maybe</code> example: intention</h1></header>
            
            
            <section><p>(Back to ethics.)</p>
<p>Every variable has a static type.</p>
<p><em>A type is an intention.</em></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              40/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><code>Maybe</code> example: responsibility</h1></header>
            
            
            <section><p>Every variable, because it has a declared type, forces an accessor to take responsibility for how to use it.</p>
<p>A variable not of a <code>Maybe</code> type can never be bound to <code>Nothing</code>.</p>
<p><em>The type checker of the compiler enforces everyone's responsibility.</em></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              41/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><code>Maybe</code> example: means</h1></header>
            
            
            <section><p>Means: static type checker of compiler.</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              42/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><code>Maybe</code> example: trust</h1></header>
            
            
            <section><p>Trust (for type correctness) is delegated to the compiler.</p>
<p>(But type correctness does not guarantee code correctness.)</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              43/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><code>Maybe</code> example: action</h1></header>
            
            
            <section><p>Type forces us to take action: unwrap a <code>Maybe</code> value to treat both cases.</p>
<p>But</p>
<ul>
<li>no guarantees that you will write the correct code for each case</li>
<li>no guarantee that you won't just defeat the type system by declaring everything to be of <code>Maybe</code> type</li>
</ul>
<p><code>Maybe</code> is a <em>tool</em>, not a <em>solution</em> to programming.</p>
<p>Java and similar so-called statically typed languages: really duck typed languages!</p>
<ul>
<li>every reference can quack like its declared type or quack like <code>null</code></li>
<li><code>null</code> quacks unconditionally by either a segmentation fault or an exception</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              44/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><code>Maybe</code>, conclusion</h1></header>
            
            
            <section><p>Observations:</p>
<ul>
<li>static type system: tool to distinguish between nothing and something</li>
<li>for each type <code>a</code>, the type <code>Maybe a</code> generates its own unique <code>Nothing</code>: no global <code>nil</code></li>
<li>helps with: intention, responsibility, means, trust</li>
<li>we still have to act for ourselves: think and code</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              45/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><code>Maybe</code>: back to history</h1></header>
            
            
            <section><ul>
<li>Hoare knew how to do <code>null</code> right in the 1960s</li>
<li>Hoare weakened his static type system for efficiency and convenience</li>
<li>ML had <code>Maybe</code> in the 1970s and 1980s</li>
<li>C++, Java and similar languages give static type systems a bad name</li>
</ul>
<p>Reminder: purpose of static type system is to aid human reasoning; <em>not</em> primarily for efficiency!</p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              46/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Back to Ruby and <code>nil</code></h1></header>
            
            
            <section><ul>
<li>Ruby: not statically typed</li>
<li>How apply the lessons from types?</li>
</ul>
<p>Possibilities:</p>
<ul>
<li>Use Ruby-oriented <code>Maybe</code> wrapper</li>
<li>Use "null object" object-oriented design pattern</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              47/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1><code>Maybe</code> for Ruby</h1></header>
            
            
            <section><ul>
<li>many <code>Maybe</code>-inspired Ruby libraries</li>
</ul>
<p>I have not used any of these examples, but should examine for correctness and usefulness</p>
<ul>
<li><a href="http://github.com/ms-ati/rumonade">rumonade</a></li>
<li><a href="http://github.com/pzol/monadic">monadic</a></li>
<li><a href="http://blatyo.github.com/maybelline/">maybelline</a></li>
<li><a href="http://github.com/bhb/maybe">maybe</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              48/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1><a href="http://en.wikipedia.org/wiki/Null_Object_pattern">Null object design pattern</a></h1></header>
            
            
            <section><p>Exploit duality of functional and object-oriented design:</p>
<ul>
<li>each part of a sum type becomes its own class</li>
<li>each function that does a case analysis becomes a method</li>
</ul>
<p>Original code:</p>
<div class="highlight"><pre><span class="k">def</span> <span class="nf">greeting</span><span class="p">(</span><span class="n">person</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">person</span><span class="o">.</span><span class="n">nil?</span>
    <span class="nb">puts</span> <span class="s1">&#39;I see nobody here&#39;</span>
  <span class="k">else</span>
    <span class="nb">puts</span> <span class="s1">&#39;Dr. &#39;</span> <span class="o">+</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">person</span> <span class="o">=</span> <span class="kp">nil</span>
<span class="n">greeting</span> <span class="n">person</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              49/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide has_code">
          <div class="inner">
            
            <header><h1>Transform functional to OO</h1></header>
            
            
            <section><p>New code:</p>
<div class="highlight"><pre><span class="k">class</span> <span class="nc">Person</span>
  <span class="c1"># ...</span>

  <span class="k">def</span> <span class="nf">greeting</span>
    <span class="nb">puts</span> <span class="s1">&#39;Dr. &#39;</span> <span class="o">+</span> <span class="vi">@name</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">NoPerson</span>
  <span class="k">def</span> <span class="nf">greeting</span>
    <span class="nb">puts</span> <span class="s1">&#39;I see nobody here&#39;</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">person</span> <span class="o">=</span> <span class="no">NoPerson</span><span class="o">.</span><span class="n">new</span>
<span class="n">person</span><span class="o">.</span><span class="n">greeting</span>
</pre></div>
</section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              50/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Drawbacks of null object pattern</h1></header>
            
            
            <section><ul>
<li>inversion of design may not be natural</li>
<li>works with simple examples with limited case switching to extract</li>
<li>not possible when switching on more than one value</li>
</ul>
<p>Workarounds:</p>
<ul>
<li><a href="http://en.wikipedia.org/wiki/Visitor_pattern">visitor pattern</a></li>
<li><a href="http://clojure.org/multimethods">multimethod object-oriented language such as Clojure</a></li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              51/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>History continues</h1></header>
            
            
            <section><ul>
<li>Efficiency still matters: <a href="https://groups.google.com/forum/?fromgroups=#!forum/scala-debate">Scala debate</a> <em>at this very moment</em> (September 2012) about whether to optimize away the indirection of <code>Option</code> at compile time: Hoare's concern in 1960s!</li>
<li>Still much discussion in Ruby community about <code>nil</code>-handling patterns</li>
</ul></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              52/53
            </aside>
          </footer>
        </div>
      </div>
      
      <!-- slide source: nil.md -->
      <div class="slide-wrapper">
        <div class="slide">
          <div class="inner">
            
            <header><h1>Conclusion</h1></header>
            
            
            <section><ul>
<li><code>nil</code> handling is a real problem</li>
<li>think in terms of ethics</li>
<li>static type systems give one approach</li>
<li>Ruby can be used in functional or object-oriented style</li>
<li>we should know and learn from history</li>
<li>it's not over</li>
<li>we still have to write correct code</li>
</ul>
<p><em>Franklin Chen</em></p>
<p><a href="http://franklinchen.com/"><code>http://franklinchen.com/</code></a></p>
<p><a href="mailto:franklinchen@franklinchen.com"><code>franklinchen@franklinchen.com</code></a></p>
<p>This slideshow: <a href="http://franklinchen.com/talk-on-nil"><code>http://franklinchen.com/talk-on-nil</code></a></p></section>
            
          </div>
          <div class="presenter_notes">
            <header><h1>Presenter Notes</h1></header>
            <section>
            
            </section>
          </div>
          <footer>
            
            <aside class="source">
              Source: <a href="nil.md">nil.md</a>
            </aside>
            
            <aside class="page_number">
              53/53
            </aside>
          </footer>
        </div>
      </div>
      
    </div>
  </div>
  
  <div id="toc" class="sidebar hidden">
    <h2>Table of Contents</h2>
    <table>
      <caption>Table of Contents</caption>
      
      <tr id="toc-row-1">
        <th><a href="#slide1"><code>nil</code>: historical, theoretical, comparative, philosophical, and practical perspectives <br> <i>Franklin Chen</i> <br> <i><a href="http://franklinchen.com/">http://franklinchen.com/</a></i> <br> Pittsburgh Ruby <br> September 6, 2012</a></th>
        <td><a href="#slide1">1</a></td>
      </tr>
      
      
      <tr id="toc-row-2">
        <th><a href="#slide2">About me</a></th>
        <td><a href="#slide2">2</a></td>
      </tr>
      
      
      <tr id="toc-row-3">
        <th><a href="#slide3">Polyglot</a></th>
        <td><a href="#slide3">3</a></td>
      </tr>
      
      
      <tr id="toc-row-4">
        <th><a href="#slide4">Why I'm giving this talk</a></th>
        <td><a href="#slide4">4</a></td>
      </tr>
      
      
      <tr id="toc-row-5">
        <th><a href="#slide5">History: "My billion-dollar mistake"</a></th>
        <td><a href="#slide5">5</a></td>
      </tr>
      
      
      <tr id="toc-row-6">
        <th><a href="#slide6"><a href="http://en.wikipedia.org/wiki/Tony_Hoare">Tony Hoare</a></a></th>
        <td><a href="#slide6">6</a></td>
      </tr>
      
      
      <tr id="toc-row-7">
        <th><a href="#slide7">History: "Pornographic programming"</a></th>
        <td><a href="#slide7">7</a></td>
      </tr>
      
      
      <tr id="toc-row-8">
        <th><a href="#slide8"><a href="http://en.wikipedia.org/wiki/John_McCarthy_(computer_scientist)">John McCarthy</a></a></th>
        <td><a href="#slide8">8</a></td>
      </tr>
      
      
      <tr id="toc-row-9">
        <th><a href="#slide9">Our heroes: <code>null</code> vs. <code>nil</code></a></th>
        <td><a href="#slide9">9</a></td>
      </tr>
      
      
      <tr id="toc-row-10">
        <th><a href="#slide10">Topics to discuss</a></th>
        <td><a href="#slide10">10</a></td>
      </tr>
      
      
      <tr id="toc-row-11">
        <th><a href="#slide11">Starting with basics: Ruby <code>nil</code></a></th>
        <td><a href="#slide11">11</a></td>
      </tr>
      
      
      <tr id="toc-row-12">
        <th><a href="#slide12">Not only a Ruby problem</a></th>
        <td><a href="#slide12">12</a></td>
      </tr>
      
      
      <tr id="toc-row-13">
        <th><a href="#slide13">Ruby <code>nil</code>'s cousins</a></th>
        <td><a href="#slide13">13</a></td>
      </tr>
      
      
      <tr id="toc-row-14">
        <th><a href="#slide14"><code>nil</code> in Ruby</a></th>
        <td><a href="#slide14">14</a></td>
      </tr>
      
      
      <tr id="toc-row-15">
        <th><a href="#slide15">Philosophy: ethics</a></th>
        <td><a href="#slide15">15</a></td>
      </tr>
      
      
      <tr id="toc-row-16">
        <th><a href="#slide16">Ruby <code>nil</code> example, revisited</a></th>
        <td><a href="#slide16">16</a></td>
      </tr>
      
      
      <tr id="toc-row-17">
        <th><a href="#slide17">1: Unintentionally uninitialized</a></th>
        <td><a href="#slide17">17</a></td>
      </tr>
      
      
      <tr id="toc-row-18">
        <th><a href="#slide18">1: Initialization solution</a></th>
        <td><a href="#slide18">18</a></td>
      </tr>
      
      
      <tr id="toc-row-19">
        <th><a href="#slide19">2: Deliberate <code>nil</code></a></th>
        <td><a href="#slide19">19</a></td>
      </tr>
      
      
      <tr id="toc-row-20">
        <th><a href="#slide20">2: Deliberate <code>nil</code> solution</a></th>
        <td><a href="#slide20">20</a></td>
      </tr>
      
      
      <tr id="toc-row-21">
        <th><a href="#slide21">3: Deliberately assigned reference</a></th>
        <td><a href="#slide21">21</a></td>
      </tr>
      
      
      <tr id="toc-row-22">
        <th><a href="#slide22">3: No solution: problem propagated</a></th>
        <td><a href="#slide22">22</a></td>
      </tr>
      
      
      <tr id="toc-row-23">
        <th><a href="#slide23">3: "Defensive" <code>nil</code> checks?</a></th>
        <td><a href="#slide23">23</a></td>
      </tr>
      
      
      <tr id="toc-row-24">
        <th><a href="#slide24">3: Give up goal of no <code>nil</code> exceptions?</a></th>
        <td><a href="#slide24">24</a></td>
      </tr>
      
      
      <tr id="toc-row-25">
        <th><a href="#slide25">Bad monkey-patching</a></th>
        <td><a href="#slide25">25</a></td>
      </tr>
      
      
      <tr id="toc-row-26">
        <th><a href="#slide26">Even worse monkey-patching</a></th>
        <td><a href="#slide26">26</a></td>
      </tr>
      
      
      <tr id="toc-row-27">
        <th><a href="#slide27">Philosophy: what is nothingness?</a></th>
        <td><a href="#slide27">27</a></td>
      </tr>
      
      
      <tr id="toc-row-28">
        <th><a href="#slide28">History: why <code>null</code> and <code>nil</code>?</a></th>
        <td><a href="#slide28">28</a></td>
      </tr>
      
      
      <tr id="toc-row-29">
        <th><a href="#slide29">Fixing <code>null</code> and <code>nil</code></a></th>
        <td><a href="#slide29">29</a></td>
      </tr>
      
      
      <tr id="toc-row-30">
        <th><a href="#slide30">A basic static type system</a></th>
        <td><a href="#slide30">30</a></td>
      </tr>
      
      
      <tr id="toc-row-31">
        <th><a href="#slide31">Primitive types</a></th>
        <td><a href="#slide31">31</a></td>
      </tr>
      
      
      <tr id="toc-row-32">
        <th><a href="#slide32">Product types (records)</a></th>
        <td><a href="#slide32">32</a></td>
      </tr>
      
      
      <tr id="toc-row-33">
        <th><a href="#slide33">Sum types (<a href="http://en.wikipedia.org/wiki/Tagged_union">tagged unions</a>)</a></th>
        <td><a href="#slide33">33</a></td>
      </tr>
      
      
      <tr id="toc-row-34">
        <th><a href="#slide34">Function types</a></th>
        <td><a href="#slide34">34</a></td>
      </tr>
      
      
      <tr id="toc-row-35">
        <th><a href="#slide35">But we need nothingness!</a></th>
        <td><a href="#slide35">35</a></td>
      </tr>
      
      
      <tr id="toc-row-36">
        <th><a href="#slide36">Dealing with a possible <code>Person</code></a></th>
        <td><a href="#slide36">36</a></td>
      </tr>
      
      
      <tr id="toc-row-37">
        <th><a href="#slide37">No silver bullet</a></th>
        <td><a href="#slide37">37</a></td>
      </tr>
      
      
      <tr id="toc-row-38">
        <th><a href="#slide38">Wrapping up on types: parameterized</a></th>
        <td><a href="#slide38">38</a></td>
      </tr>
      
      
      <tr id="toc-row-39">
        <th><a href="#slide39"><code>Maybe</code> as parameterized type</a></th>
        <td><a href="#slide39">39</a></td>
      </tr>
      
      
      <tr id="toc-row-40">
        <th><a href="#slide40"><code>Maybe</code> example: intention</a></th>
        <td><a href="#slide40">40</a></td>
      </tr>
      
      
      <tr id="toc-row-41">
        <th><a href="#slide41"><code>Maybe</code> example: responsibility</a></th>
        <td><a href="#slide41">41</a></td>
      </tr>
      
      
      <tr id="toc-row-42">
        <th><a href="#slide42"><code>Maybe</code> example: means</a></th>
        <td><a href="#slide42">42</a></td>
      </tr>
      
      
      <tr id="toc-row-43">
        <th><a href="#slide43"><code>Maybe</code> example: trust</a></th>
        <td><a href="#slide43">43</a></td>
      </tr>
      
      
      <tr id="toc-row-44">
        <th><a href="#slide44"><code>Maybe</code> example: action</a></th>
        <td><a href="#slide44">44</a></td>
      </tr>
      
      
      <tr id="toc-row-45">
        <th><a href="#slide45"><code>Maybe</code>, conclusion</a></th>
        <td><a href="#slide45">45</a></td>
      </tr>
      
      
      <tr id="toc-row-46">
        <th><a href="#slide46"><code>Maybe</code>: back to history</a></th>
        <td><a href="#slide46">46</a></td>
      </tr>
      
      
      <tr id="toc-row-47">
        <th><a href="#slide47">Back to Ruby and <code>nil</code></a></th>
        <td><a href="#slide47">47</a></td>
      </tr>
      
      
      <tr id="toc-row-48">
        <th><a href="#slide48"><code>Maybe</code> for Ruby</a></th>
        <td><a href="#slide48">48</a></td>
      </tr>
      
      
      <tr id="toc-row-49">
        <th><a href="#slide49"><a href="http://en.wikipedia.org/wiki/Null_Object_pattern">Null object design pattern</a></a></th>
        <td><a href="#slide49">49</a></td>
      </tr>
      
      
      <tr id="toc-row-50">
        <th><a href="#slide50">Transform functional to OO</a></th>
        <td><a href="#slide50">50</a></td>
      </tr>
      
      
      <tr id="toc-row-51">
        <th><a href="#slide51">Drawbacks of null object pattern</a></th>
        <td><a href="#slide51">51</a></td>
      </tr>
      
      
      <tr id="toc-row-52">
        <th><a href="#slide52">History continues</a></th>
        <td><a href="#slide52">52</a></td>
      </tr>
      
      
      <tr id="toc-row-53">
        <th><a href="#slide53">Conclusion</a></th>
        <td><a href="#slide53">53</a></td>
      </tr>
      
      
    </table>
  </div>
  
  <div id="help" class="sidebar hidden">
    <h2>Help</h2>
    <table>
      <caption>Help</caption>
      <tr>
        <th>Table of Contents</th>
        <td>t</td>
      </tr>
      <tr>
        <th>Expos</th>
        <td>ESC</td>
      </tr>
      <tr>
        <th>Full screen slides</th>
        <td>e</td>
      </tr>
      <tr>
        <th>Presenter View</th>
        <td>p</td>
      </tr>
      <tr>
        <th>Source Files</th>
        <td>s</td>
      </tr>
      <tr>
        <th>Slide Numbers</th>
        <td>n</td>
      </tr>
      <tr>
        <th>Toggle screen blanking</th>
        <td>b</td>
      </tr>
      <tr>
        <th>Show/hide slide context</th>
        <td>c</td>
      </tr>
      <tr>
        <th>Notes</th>
        <td>2</td>
      </tr>
      <tr>
        <th>Help</th>
        <td>h</td>
      </tr>
    </table>
  </div>
  <script>main()</script>
</body>
</html>